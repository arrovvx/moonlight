"use strict"; $(document).ready(function() { $("#button").click(function(e) { if (validateForm()) { e.preventDefault(); $.ajax({ type: "POST", url: "/api/email", data: { name: $("#name").val(), email: $("#email").val(), message: $("#message").val() }, success: function(result) { $("#servermsg").html(result); }, error: function(XMLHttpRequest, textStatus, errorThrown) { $("#servermsg").html(XMLHttpRequest.responseText); } }); $("#name").val(''); $("#email").val(''); $("#message").val(''); $("#servermsg").html("Sending...");} return false; }); }); function validateForm() { const title = $("#name").val(); const message = $("#message").val(); const email = $("#email").val(); let err = true; if (title === "" || title === null) { $("#name").addClass("validation"); err = false; } else { $("#name").removeClass("validation"); } if (!(/(.+)@(.+){2,}\.(.+){2,}/.test(email))) { $("#email").addClass("validation"); err = false; } else { $("#email").removeClass("validation"); } if (message === "" || message === null) { $("#message").addClass("validation"); err = false; } else { $("#message").removeClass("validation"); } return err; }